<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login and Registration</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <style>
      .gradient-custom {
          background: #6a11cb;
          background: -webkit-linear-gradient(to right, rgba(106, 17, 203, 1), rgba(37, 117, 252, 1));
          background: linear-gradient(to right, rgba(106, 17, 203, 1), rgba(37, 117, 252, 1));
      }
  </style>
</head>
<body>
<section class="vh-100 gradient-custom">
  <div class="container py-5 h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-12 col-md-8 col-lg-6 col-xl-5">
        <div class="card bg-black text-white" style="border-radius: 1rem;">
          <div class="card-body p-5 text-center">
            <div class="btn-group d-flex justify-content-center mb-3" role="group" aria-label="Basic example">
              <button id="login-button" type="button" class="no-link-style btn btn-outline-light active">Log in</button>
              <button id="register-button" type="button" class="no-link-style btn btn-outline-light">Register</button>
            </div>

            <div id="login-section">
              <%= form_for(resource, as: resource_name, url: session_path(resource_name), data: { turbo: false }) do |f| %>
                <div class="field form-outline form-white mt-5 mb-2">
                  <%= f.email_field :email, autofocus: true, autocomplete: "email", class: 'form-control form-control-lg' %>
                  <%= f.label :email, class: 'form-label' %>
                </div>

                <div class="field form-outline form-white mb-2">
                  <%= f.password_field :password, autocomplete: "current-password", class: 'form-control form-control-lg' %>
                  <%= f.label :password, class: 'form-label' %>
                </div>

                <% if devise_mapping.rememberable? %>
                  <div class="field form-switch">
                    <%= f.check_box :remember_me, class: 'form-check-input' %>
                    <%= f.label :remember_me, class: 'mb-5 small pb-lg-2 form-check-label text-white-50 float-left' %>
                  </div>
                <% end %>

                <div class="actions">
                  <%= f.submit "Log in", class: "btn btn-outline-light btn-lg px-5 mb-3" %>
                </div>

              <% end %>
            </div>

            <div id="registration-section" style="display: none;">
              <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
                <%= render "devise/shared/error_messages", resource: resource, class: "text-white-50 mb-5" %>
                <div class="field form-outline form-white mt-5 mb-2">
                  <%= f.email_field :email, autofocus: true, autocomplete: "email", class: 'form-control form-control-lg' %>
                  <%= f.label :email, class: 'form-label' %>
                </div>

                <div class="field from-outline form-white mb-2">
                  <%= f.text_field :username, autofocus: true, class: 'form-control form-control-lg mb-2' %>
                  <%= f.label :username, class: 'form-label' %>
                </div>

                <div class="field form-outline form-white mb-2">
                  <%= f.password_field :password, autocomplete: "new-password", class: 'form-control form-control-lg' %>
                  <%= f.label :password, class: 'form-label' %>
                  <% if @minimum_password_length %>
                    <em>(<%= @minimum_password_length %> characters minimum)</em>
                  <% end %>
                </div>

                <div class="field form-outline form-white mb-2">
                  <%= f.password_field :password_confirmation, autocomplete: "new-password", class: 'form-control form-control-lg' %>
                  <%= f.label :password_confirmation, class: 'form-label mb-3' %>
                </div>

                <div class="actions">
                  <%= f.submit "Register", class: "btn btn-outline-light btn-lg px-5 mb-2" %>
                </div>
              <% end %>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<script>
    $(document).ready(function() {
        $("#login-button").click(function() {
            $("#registration-section").hide();
            $("#login-section").show();
            $("#register-button").removeClass("active");
            $("#login-button").addClass("active");
        });

        $("#register-button").click(function() {
            $("#login-section").hide();
            $("#registration-section").show();
            $("#login-button").removeClass("active");
            $("#register-button").addClass("active");
        });
    });
</script>
</body>
</html>
